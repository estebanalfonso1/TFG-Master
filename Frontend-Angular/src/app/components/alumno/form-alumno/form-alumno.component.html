<main>
    <h5>Formulario de Alumno</h5>
    <form [formGroup]="alumnoForm" (ngSubmit)="save()">
        <div>
            <label for="nombre">Nombre</label>
            <input id="nombre" formControlName="nombre" type="text" required />
            <div *ngIf="alumnoForm.get('nombre')?.invalid && alumnoForm.get('nombre')?.touched" class="text-danger">
                El nombre es obligatorio.
            </div>
        </div>

        <div>
            <label for="apellido1">Primer apellido</label>
            <input id="apellido1" formControlName="apellido1" type="text" required />
            <div *ngIf="alumnoForm.get('apellido1')?.invalid && alumnoForm.get('apellido1')?.touched" class="text-danger">
                El primer apellido es obligatorio.
            </div>
        </div>

        <div>
            <label for="apellido2">Segundo apellido</label>
            <input id="apellido2" formControlName="apellido2" type="text" required />
            <div *ngIf="alumnoForm.get('apellido2')?.invalid && alumnoForm.get('apellido2')?.touched" class="text-danger">
                El segundo apellido es obligatorio.
            </div>
        </div>

        <div>
            <label for="email">Correo electrónico</label>
            <input id="email" formControlName="email" type="email" required />
            <div *ngIf="alumnoForm.get('email')?.invalid && alumnoForm.get('email')?.touched" class="text-danger">
                El correo electrónico es obligatorio y debe ser válido.
            </div>
        </div>

        <div>
            <label for="foto">Foto</label>
            <input id="foto" formControlName="foto" type="text" />
        </div>

        <div>
            <label for="telefono">Teléfono</label>
            <input id="telefono" formControlName="telefono" type="text" />
            <div *ngIf="alumnoForm.get('telefono')?.invalid && alumnoForm.get('telefono')?.touched" class="text-danger">
                El teléfono debe ser un número válido.
            </div>
        </div>

        <div>
            <label for="direccion">Dirección</label>
            <input id="direccion" formControlName="direccion" type="text" />
        </div>

        <div *ngIf="!isEditMode">
            <label for="curso">Curso</label>
            <select id="curso" formControlName="curso">
                <option value="DAW">DAW</option>
                <option value="ASIR">ASIR</option>
                <option value="AFI">AFI</option>
            </select>
            <div *ngIf="alumnoForm.get('curso')?.invalid && alumnoForm.get('curso')?.touched" class="text-danger">
                El curso apellido es obligatorio.
            </div>
        </div>

        <div *ngIf="!isEditMode">
            <label for="calificacionTotal">Calificación</label>
            <input id="calificacionTotal" formControlName="calificacionTotal" type="text" />
            <div *ngIf="alumnoForm.get('calificacionTotal')?.errors?.['min']">
                La calificación no puede ser menor que 0.
              </div>
              <div *ngIf="alumnoForm.get('calificacionTotal')?.errors?.['max']">
                La calificación no puede ser mayor que 10.
              </div>
        </div>

        <div *ngIf="!isEditMode && !isEditModeId">
            <label for="username">Nombre de usuario</label>
            <input id="username" formControlName="username" type="text" required />
            <div *ngIf="alumnoForm.get('username')?.invalid && alumnoForm.get('username')?.touched" class="text-danger">
                El nombre de usuario es obligatorio.
            </div>
        </div>

        <div *ngIf="!isEditMode && !isEditModeId">
            <label for="password">Contraseña</label>
            <input id="password" formControlName="password" type="password" required />
            <div *ngIf="alumnoForm.get('password')?.invalid && alumnoForm.get('password')?.touched" class="text-danger">
                La contraseña es obligatoria (mínimo 8 caracteres).
            </div>
        </div>

        <div *ngIf="!isEditMode && !isEditModeId">
            <label for="passconfirm">Confirmar Contraseña</label>
            <input id="passconfirm" formControlName="passconfirm" type="password" required />
            <div *ngIf="alumnoForm.get('passconfirm')?.invalid && alumnoForm.get('passconfirm')?.touched" class="text-danger">
                La confirmación de la contraseña es obligatoria.
            </div>
            <div *ngIf="alumnoForm.hasError('passNoCoinciden')" class="text-danger">
                Las contraseñas no coinciden.
            </div>
        </div>

        <button type="submit" [disabled]="alumnoForm.invalid">Guardar</button>
    </form>
</main>
